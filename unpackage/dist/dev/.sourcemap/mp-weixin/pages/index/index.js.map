{"version":3,"sources":["webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue?3d7b","webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue?9f91","webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue?d5fe","webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue?ae30","webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue","webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue?5dd4","webpack:///G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue?f813"],"names":["components","uniCollapse","uniCollapseItem","data","deviceList","deviceNum","activeNames","connected","connectedName","prevConnected","pDeviceInfo","deviceId","serviceId","characteristics","onLoad","uni","getStorageSync","methods","onChange","event","detail","initBluetoothModule","openBluetoothAdapter","success","res","searchBlueList","fail","err","console","log","startBluetoothDevicesDiscovery","setTimeout","getBlueList","showToast","title","icon","duration","getBluetoothDevices","devices","tempList","map","device","localName","push","length","listenBluetooth","onBluetoothDeviceFound","flag","forEach","connetBlue","type","index","deviceIndex","deviceInfo","dId","showLoading","mask","createBLEConnection","hideLoading","errCode","name","setStorageSync","stopBluetoothDevicesDiscovery","getBLEDeviceServices","i","services","isPrimary","getBLEDeviceCharacteristics","uuid","JSON","stringify","PrintStr","item","properties","write","error","buf","Buffer","from","bufferstr","buffer","writeBLECharacteristicValue","characteristicId","value","complete","closeBluetoothAdapter","onUnload"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=59694136&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('59694136', component.options)\n    } else {\n      api.reload('59694136', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=59694136&\", function () {\n      api.rerender('59694136', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"G:/HBuilderProjects/buletoothPrint-demo/pages/index/index.vue\"\nexport default component.exports","export * from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=59694136&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniCollapse from \"@/plugs/uni-ui/uni-collapse/uni-collapse.vue\"\nimport uniCollapseItem from \"@/plugs/uni-ui/uni-collapse-item/uni-collapse-item.vue\"\nexport default {\n\tcomponents: {uniCollapse,uniCollapseItem},\n\tdata() {\n\t\treturn {\n\t\t\tdeviceList:[],\n\t\t\tdeviceNum:0,\n\t\t\tactiveNames:0,\n\t\t\tconnected:false,\n\t\t\tconnectedName:'',\n\t\t\tprevConnected:false,\n\t\t\tpDeviceInfo:{},\n\t\t\tdeviceId:'',\n\t\t\tserviceId:'',\n\t\t\tcharacteristics:'',\n\t\t};\n\t},\n\tonLoad() {\n\t\t//初始蓝牙模块\n\t\tthis.pDeviceInfo = uni.getStorageSync('deviceInfo');\n\t\tif(!!this.pDeviceInfo){\n\t\t\tthis.prevConnected = true;\n\t\t}\n\t\t//this.initBluetoothModule()\n\t},\n\tmethods:{\n\t\tonChange(event){\n\t\t\tthis.activeNames =event.detail; \n\t\t},\n\t\tinitBluetoothModule(){\n\t\t\t//初始蓝牙模块\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t  success:res=> {\n\t\t\t\tthis.searchBlueList();\n\t\t\t  },\n\t\t\t  fail:err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t  }\n\t\t\t})\n\t\t},\n\t\tsearchBlueList(){\n\t\t\t//开启蓝牙搜索\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tsuccess:res=> {\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.getBlueList();\n\t\t\t\t\t\t  uni.showToast({\n\t\t\t\t\t\t\ttitle: '开启成功',\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t},1000);\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tgetBlueList(){\n\t\t\t//获取搜索列表\n\t\t\tuni.getBluetoothDevices({\n\t\t\t  success:res=> {\n\t\t\t\tlet data = res.devices\n\t\t\t\tlet tempList=[];\n\t\t\t\tdata.map(device=>{\n\t\t\t\t  if(!!device.localName){\n\t\t\t\t\ttempList.push(device)\n\t\t\t\t  }\n\t\t\t\t});\n\t\t\t\tthis.deviceNum = tempList.length;\n\t\t\t\tthis.deviceList=tempList;\n\t\t\t\tthis.listenBluetooth();\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t\tlistenBluetooth(){\n\t\t\tlet tempList =this.deviceList;\n\t\t\t//监听蓝牙搜索\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t  let flag = false;\n\t\t\t  res.devices.forEach(device => {\n\t\t\t\tif(!!device.localName){\n\t\t\t\t  tempList.push(device)\n\t\t\t\t  flag =true;\n\t\t\t\t}\n\t\t\t  })\n\t\t\t  if(flag){\n\t\t\t\tthis.deviceList=tempList;\n\t\t\t\tthis.deviceNum = this.deviceList.length;\n\t\t\t  }\n\t\t   })\n\t\t},\n\t\tconnetBlue(type,index){\n\t\t\tlet deviceIndex = index;\n\t\t\tlet deviceInfo = this.deviceList[deviceIndex];\n\t\t\tif(this.prevConnected && type == 1){\n\t\t\t  deviceInfo = this.pDeviceInfo;\n\t\t\t} \n\t\t\tlet dId = deviceInfo.deviceId;\n\t\t\tuni.showLoading({\n\t\t\t  title: '正在连接...', //提示的内容,\n\t\t\t  mask: true\n\t\t\t});\n\t\t\t//连接蓝牙\n\t\t\tuni.createBLEConnection({\n\t\t\t  deviceId: dId,//设备id\n\t\t\t  success: res=> {\n\t\t\t\tuni.hideLoading();\t\n\t\t\t\tif(res.errCode == 0){\n\t\t\t\t  this.connected = true;\n\t\t\t\t  this.connectedName=deviceInfo.name;\n\t\t\t\t  uni.setStorageSync('deviceInfo',deviceInfo);\n\t\t\t\t  this.deviceId=dId;\n\t\t\t\t  uni.showToast({\n\t\t\t\t\ttitle: '连接成功',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 1000\n\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\t  success: res => {\n\t\t\t\t\tconsole.log('连接蓝牙成功之后关闭蓝牙搜索');\n\t\t\t\t  }\n\t\t\t\t})\n\t\t\t  },\n\t\t\t  fail:err=>{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '连接失败！', \n\t\t\t\t\ticon: 'none', \n\t\t\t\t\tduration: 2000\n\t\t\t\t  });\n\t\t\t  }\n\t\t\t})\n\t\t},\n\t\tgetBLEDeviceServices(){\n\t\t\t//获取服务\n\t\t\tuni.showLoading({\n\t\t\t  title: '正在打印...', //提示的内容,\n\t\t\t  mask: true\n\t\t\t});\n\t\t\tlet deviceId = this.deviceId;\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\t\n\t\t\t\t  for (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\tif (res.services[i].isPrimary) {\n\t\t\t\t\t  this.getBLEDeviceCharacteristics(deviceId, res.services[i].uuid);\n\t\t\t\t\t}\n\t\t\t\t  }\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t  uni.hideLoading();\n\t\t\t\t  console.log(\"获取蓝牙服务失败：\" + JSON.stringify(res))\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//获取单个服务的特征值(characteristic)\n\t\tgetBLEDeviceCharacteristics(deviceId, serviceId){\n\t\t\tif(!!this.characteristics && !!this.serviceId){\n\t\t\t\tthis.PrintStr();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i];\n\t\t\t\t\t\tif (item.properties.write && !this.serviceId) {\n\t\t\t\t\t\t\tthis.serviceId = serviceId;\n\t\t\t\t\t\t\tthis.characteristics = item.uuid;\n\t\t\t\t\t\t\tthis.PrintStr();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('获取特征值失败：', res)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tPrintStr() {\n\t\t\tconst buf = Buffer.from(\"this is test content!\");\n\t\t\tvar bufferstr = buf.buffer; \n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tserviceId: this.serviceId,\n\t\t\t\tcharacteristicId: this.characteristics,\n\t\t\t\tvalue: bufferstr,\n\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t uni.hideLoading();\n\t\t\t\t},\n\t\t\t\tfail: function (res) {\n\t\t\t\t\tconsole.log(\"数据发送失败:\" + JSON.stringify(res))\n\t\t\t\t},\n\t\t\t\tcomplete: function (res) {\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tcloseBluetoothAdapter(){\n\t\t\tuni.closeBluetoothAdapter({\n\t\t\t  success: res => {\n\t\t\t\tconsole.log('关闭蓝牙适配器');\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t},\n\tonUnload() {\n\t  this.closeBluetoothAdapter();\n\t}\n}\n","import mod from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}